# JS中this指向的问题

1. 全局作用域或普通函数

​			当函数在全局作用域下执行，或以常规函数调用的话，this指向全局对象window

2. 对象方法调用

   当函数作为对象的一个方法被调用，this指向调用该方法的对象本身

3. 构造函数调用

​			在构造函数内部，this指向正在被创建的新对象实例

4. 内置函数及事件处理函数

   在JS内置函数或DON事件处理函数中，this可能指向调用这些函数的特定上下文

5. 函数上下文的强制绑定

​			通过`call` 、`apply`、 `bind`等方法，可以主动改变函数执行时this的指向，让他指向任意指定的对象

6. 箭头函数

​			自身没有this，继承父级作用域的this



---

### this指向有哪些情况

- 全局的 this：指向 window
- 函数中的 this，简单来说就是“**谁调用该函数，this 就指向谁**”，可以细化为以下几种情况：
  - 普通函数中的 this：指向 window
  - 对象方法中的 this：指向调用该方法的对象
  - 构造函数/class 中的 this：指向 new 出来的实例对象
  - 事件方法中的 this：指向绑定事件的元素

但是箭头函数的 this 除外，箭头函数默认是没有 this 的，如果需要在箭头函数中访问 this，实际访问的是箭头函数所在上下文中的 this。

---

### 改变this指向的方式有哪些？区别是什么？

#### 1. call 方法

- call 方法可以在调用函数的同时改变函数内部的 this 指向；
- call 方法的第一个参数是要改变的 this 指向的对象，后面的参数是函数执行时所需的参数。

#### 2. apply 方法

- apply 方法可以在调用函数的同时改变函数内部的 this 指向；
- apply 方法的第一个参数也是要改变的 this 指向的对象，但是它的第二个参数是一个数组，包含了函数执行时所需的参数。

#### 3. bind 方法

- bind 方法在改变 this 时并不会立即执行函数，而是返回一个新函数；
- bind 方法的第一个参数也是要改变的 this 指向的对象，后面的参数是函数执行时所需的参数。

#### 4. 箭头函数

箭头函数在定义时就确定了 this 的指向，它会继承它所在上下文的 this 值。因此，在实际项目开发中，更多的会使用箭头函数来改变 this 指向，避免 this 指向混乱的问题。

---

