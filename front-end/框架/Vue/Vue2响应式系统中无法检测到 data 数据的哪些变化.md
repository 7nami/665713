# Vue2响应式系统中无法检测到 data 数据的哪些变化？解决方案是什么？

检测不到的情况有 4 种：

1. 对象属性的新增；
2. 对象属性的删除；
3. 通过下标操作数组；
4. 修改数组的长度；

解决方案：

- 解决对象属性新增：
  - 官方提供的 $set() 方法；
  - 直接赋值一个新对象，通过扩展运算符保留旧数据；
  - Object.assign()
- 解决对象属性删除：
  - 官方提供的 $delete() 方法；
- 解决通过下标操作数组：
  - 官方提供的 $set() 方法；
  - 使用数组的 splice() 方法；
- 解决数组长度的修改：
  - 如果是清空数组，直接设置空数组 []；
  - 如果是修改数组长度，使用数组的 splice(新长度) 方法；

---



#### Vue为什么不能检测对象的变动

1. Vue 无法检测实例被创建时不存在于 `data` 中的 property

   > 由于 Vue 会在初始化实例时对 property 执行 `getter/setter` 转化，所以 property 必须在 `data` 对象上存在才能让 Vue 将它转换为响应式的。

2. Vue 不允许动态添加响应式 property，所以你必须在初始化实例前声明所有响应式 property

   > getter/setter只能追踪一个数据是否被更改，无法追踪新增属性和删除属性